<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:pa="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui">


<body jsf:id="bodyAdmin">

	<ui:composition template="layout.xhtml">
		<ui:define name="content">
			<div class="container-fluid">
				<div class="animated fadeIn">
					<div class="row">
							<div class="card">
								<div class="card-header">#{msg.funcionario_label_titulo}</div>
								<div class="card-block">
									<form jsf:id="formFiltro">
										<p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
										<div class="row">
											<div class="col-lg-4"></div>
											<div class="col-lg-4">
												<div class="form-group">
													<h:panelGrid columns="2" border="0">
														<div class="input-group">
															<span class="input-group-addon">#{msg.label_usuario}</span> <input
																type="text" id="txtUsuarioFiltro"
																class="form-control"/><span
																class="input-group-addon"><i class="fa fa-user"></i></span>
														</div>
														<button jsf:id="btnBuscar" type="submit" class="btn btn-md btn-primary">#{msg.boton_buscar}</button>
													</h:panelGrid>
												</div>
											</div>
											<div class="col-lg-4"></div>
										</div>`
										<div class="row">
											<div class="col-md-10"></div>
											<div class="col-md-2">
												<p:commandButton value="#{msg.boton_nuevo_funcionario}" styleClass="btn btn-sm btn-secondary" 
													action="#{funcionariosMB.prepararForma}" oncomplete="PF('dlg3').show();" />
											</div>
										</div>

										<h:panelGroup styleClass="row" rendered="true">
											<div class="col-lg-12">
												<div class="card">
													<div class="card-header">
														<h:outputLabel rendered="true"><h6>#{msg.funcionario_tabla_titulo}</h6></h:outputLabel>
													</div>
													<div class="card-block">
														<p:dataTable styleClass="table" rendered="true" var="func" value="#{funcionariosMB.lstFuncionarios}" >
																<p:column style="text-align: center;" headerText="#{msg.label_identificacion}">
																	<h:outputText value="#{func.persona.numIdentificacion}" />
																</p:column>
																<p:column style="text-align: center;" headerText="#{msg.label_nombres}">
																	<h:outputText value="#{func.persona.nombres}" />
																</p:column>
																<p:column style="text-align: center;" headerText="#{msg.label_apellidos}">
																	<h:outputText value="#{func.persona.apellidos}" />
																</p:column>
																<p:column style="text-align: center;" headerText="#{msg.label_email}">
																	<h:outputText value="#{func.persona.email}" />
																</p:column>
																<p:column style="text-align: center;" headerText="#{msg.label_telefono}">
																	<h:outputText value="#{func.persona.telefono}" />
																</p:column>
																<p:column style="text-align: center;" headerText="#{msg.label_estado}">
																	<h:outputText value="#{func.estado}" />
																</p:column>
																<p:column headerText="#{msg.label_acciones}">
																		<p:commandButton value="#{msg.boton_editar}"/>
																		<p:commandButton value="#{msg.boton_inhabilitar}"/>
																</p:column>
													</p:dataTable>
													</div>
												</div>
											</div>
										</h:panelGroup>
								</form>
								</div>
							</div>
					</div>
				</div>
			</div>

			<p:dialog header="#{msg.funcionario_label_modal_titulo}"
				widgetVar="dlg3" showEffect="explode" hideEffect="bounce">
				<form jsf:id="formRegistro">
					<p class="text-muted">#{msg.funcionario_label_modal_titulo2}</p>
					<h:panelGrid columns="2" border="0">
						<span class="input-group-addon"><i class="icon-user"></i></span>
						<input type="text"
							jsf:value="#{funcionariosMB.personaEntity.tipoIdentificacion}"
							class="form-control"
							placeholder="#{msg.label_tipoIdentificacion}"></input>
						<span class="input-group-addon"><i class="icon-user"></i></span>
						<h:panelGroup>
							<p:inputText id="txtNumId" styleClass="form-control"
								value="#{funcionariosMB.personaEntity.numIdentificacion}">
								<p:ajax event="blur" update=":formRegistro"
									listener="#{funcionariosMB.buscarPersona}" />
							</p:inputText>
							<p:watermark for="txtNumId" value="#{msg.label_identificacion}"
								id="lblNumId" />
						</h:panelGroup>
						<span class="input-group-addon">@</span>
						<input type="text"
							jsf:value="#{funcionariosMB.personaEntity.email}"
							class="form-control" placeholder="#{msg.label_email}"></input>
						<span class="input-group-addon"><i class="icon-lock"></i></span>
						<input type="password"
							jsf:value="#{funcionariosMB.funcionarioEntity.contrasenia}"
							class="form-control" placeholder="#{msg.label_clave}"></input>
						<span class="input-group-addon"><i class="icon-lock"></i></span>
						<input type="password"
							jsf:value="#{funcionariosMB.funcionarioEntity.contraseniaVal}"
							class="form-control" placeholder="#{msg.label_clave_r}"></input>
						<span class="input-group-addon"><i class="icon-user"></i></span>
						<input type="text"
							jsf:value="#{funcionariosMB.personaEntity.nombres}"
							class="form-control" placeholder="#{msg.label_nombres}"></input>
						<span class="input-group-addon"><i class="icon-user"></i></span>
						<input type="text"
							jsf:value="#{funcionariosMB.personaEntity.apellidos}"
							class="form-control" placeholder="#{msg.label_apellidos}"></input>
						<span class="input-group-addon"><i class="fa fa-phone"></i></span>
						<input type="text"
							jsf:value="#{funcionariosMB.personaEntity.telefono}"
							class="form-control" placeholder="#{msg.label_telefono}"></input>
						<span class="input-group-addon"><i class="icon-user"></i></span>
						<input type="text"
							jsf:value="#{funcionariosMB.personaEntity.direccion}"
							class="form-control" placeholder="#{msg.label_direccion}"></input>
						<p:commandButton id="btnRegistrar"
							value="#{msg.boton_registro_funcionario}"
							styleClass="btn btn-sm btn-success"
							action="#{funcionariosMB.registrar}"
							oncomplete="PF('dlg3').hide();" />
						<p:commandButton id="btnCerrar" value="#{msg.boton_cerrar}"
							styleClass="btn btn-sm btn-secondary"
							oncomplete="PF('dlg3').hide();" />
					</h:panelGrid>
				</form>
			</p:dialog>

		</ui:define>
	</ui:composition>

</body>

</html>